I"Ó<p>##ä¸€ã€è·¯ç”±æ¨¡å¼</p>

<h3 id="1-hash-æ¨¡å¼">1. Hash æ¨¡å¼</h3>

<ul>
  <li>æœ‰ #/</li>
  <li>æ˜¯é€šè¿‡ window.locationï¼ˆï¼‰è¿›è¡Œè·¯ç”±è·³è½¬ï¼Œé€šè¿‡ onhashChangeï¼ˆï¼‰äº‹ä»¶ç›‘å¬è·¯ç”±è·³è½¬</li>
</ul>

<h3 id="2-history-æ¨¡å¼">2. History æ¨¡å¼</h3>

<ul>
  <li>æ²¡æœ‰ #/</li>
  <li>é€šè¿‡H5 çš„history API å®ç°ï¼Œé€šè¿‡history.pushStateï¼ˆï¼‰å’Œ history.replaceStateï¼ˆï¼‰è¿›è¡Œè·³è½¬ï¼Œé€šè¿‡ onpopState è¿›è¡Œç›‘å¬ï¼Œä½†æ˜¯ä»–åªèƒ½ç›‘å¬è·¯ç”±çš„å‰è¿›å’Œåé€€ï¼Œæºç ä¸­å°†history.pushStateï¼ˆï¼‰å’Œ history.replaceStateï¼ˆï¼‰è¿›è¡Œäº†ç»Ÿä¸€çš„åŒ…è£…ï¼Œé€šè¿‡ pushState å‡½æ•°è¿›è¡ŒåŒ…è£…ï¼Œä¸ç®¡æ˜¯history.pushState è¿˜æ˜¯ history.replaceState æ—¶ï¼Œåº•å±‚æœ€ç»ˆéƒ½ä¼šé€šè¿‡ history.pushState è¿™ä¸ªå‡½æ•°è¿›è¡Œè·³è½¬ï¼Œé€šè¿‡ history.pushState  è¿›è¡Œç›‘å¬ã€‚</li>
</ul>

<h3 id="3-abstract-æ¨¡å¼">3. abstract æ¨¡å¼</h3>

<ul>
  <li>æ”¯æŒæ‰€æœ‰ Javascript è¿è¡Œç¯å¢ƒï¼Œå¦‚ Node.js æœåŠ¡å™¨ç«¯ã€‚<strong>å¦‚æœå‘ç°æ²¡æœ‰æµè§ˆå™¨çš„ APIï¼Œè·¯ç”±ä¼šè‡ªåŠ¨å¼ºåˆ¶è¿›å…¥è¿™ä¸ªæ¨¡å¼</strong>ã€‚</li>
</ul>

<h2 id="äºŒè·¯ç”±å®ˆå«">äºŒã€è·¯ç”±å®ˆå«</h2>

<h3 id="1-å…¨å±€å®ˆå«">1. å…¨å±€å®ˆå«</h3>

<p>â€‹	è·¯ç”±çš„æ”¹å˜ä¼šè§¦å‘å¯¼èˆªå®ˆå«</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span><span class="p">.</span> <span class="nx">å…¨å±€å‰ç½®å®ˆå«</span>
	<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span> <span class="p">...</span> <span class="p">})</span>
	<span class="nx">router</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">((</span><span class="nx">to</span><span class="p">,</span> <span class="k">from</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
	    <span class="c1">// è®¾ç½®åŠ¨æ€title         </span>
	    <span class="c1">// æ ¹æ®æˆ‘ä»¬åœ¨æ¯ä¸€ä¸ªè·¯ç”±æ˜ å°„å¯¹è±¡ä¸­è®¾ç½®çš„metaå…ƒæ•°æ® æ¥è¿›è¡Œä¸€ä¸ªåŠ¨æ€titleçš„æ˜¾ç¤º</span>
	       <span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="nx">to</span><span class="p">.</span><span class="nx">matched</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">meta</span><span class="p">.</span><span class="nx">title</span>
	    <span class="c1">// å¦‚æœæˆ‘ä»¬å¯¹beforeEachè¿›è¡Œè‡ªå®šä¹‰è®¾ç½® å¿…é¡»è¦è°ƒç”¨next() </span>
		    <span class="nx">next</span><span class="p">()</span>
		<span class="p">})</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">2</span><span class="p">.</span> <span class="nx">å…¨å±€åç½®å®ˆå«</span>
	<span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span> <span class="p">...</span> <span class="p">})</span> 
	<span class="nx">router</span><span class="p">.</span><span class="nx">afterEach</span><span class="p">((</span><span class="nx">to</span><span class="p">,</span> <span class="k">from</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="c1">// ... })</span>
</code></pre></div></div>

<h3 id="2-è·¯ç”±ç‹¬äº«å®ˆå«">2. è·¯ç”±ç‹¬äº«å®ˆå«</h3>

<p>â€‹	å¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸Šç›´æ¥å®šä¹‰ beforeEnter å®ˆå«ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span> 
		<span class="na">routes</span><span class="p">:</span> <span class="p">[</span> 
		  <span class="p">{</span> 
		    <span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/foo</span><span class="dl">'</span><span class="p">,</span> 
		    <span class="na">component</span><span class="p">:</span> <span class="nx">Foo</span><span class="p">,</span> 
		    <span class="na">beforeEnter</span><span class="p">:</span> <span class="p">(</span><span class="nx">to</span><span class="p">,</span> <span class="k">from</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{}</span> 
		  <span class="p">}</span> 
		<span class="p">]</span> 
	<span class="p">})</span> 
</code></pre></div></div>

<h3 id="3-ç»„ä»¶å†…å®ˆå«">3. ç»„ä»¶å†…å®ˆå«</h3>

<p>â€‹	beforeRouteLeaveç¦»å¼€å®ˆå«é€šå¸¸ç”¨æ¥ç¦æ­¢ç”¨æˆ·åœ¨è¿˜æœªä¿å­˜ä¿®æ”¹å‰çªç„¶ç¦»å¼€ã€‚è¯¥å¯¼èˆªå¯ä»¥é€šè¿‡ next(false) æ¥å–æ¶ˆã€‚
â€‹	const Foo = { 
â€‹		template: <code class="language-plaintext highlighter-rouge">...</code>, 
â€‹		beforeRouteEnter: (to, from, next) =&gt; { //ä¸èƒ½è·å–ç»„ä»¶å®ä¾‹ <code class="language-plaintext highlighter-rouge">this</code> } 
â€‹		beforeRouteUpdate (to, from, next) {//åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨,å¯è®¿é—®this}
â€‹		beforeRouteLeave (to, from, next) {//å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨,å¯è®¿é—®this}
â€‹	}</p>

:ET